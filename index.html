<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Loan Products | Shree Karni Kripa Associates, Ajmer Rajasthan</title>
    <meta name="description" content="Explore all loan products from SKF Ajmer, including specific types of Home, Personal, Business, and Car Loans. Calculate EMI, check eligibility, and apply online.">
    <meta name="keywords" content="loan types rajasthan, business loan types, personal loan ajmer, home loan jaipur, car loan udaipur, emi calculator, skf ajmer">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; }
        .page { display: none; animation: fadeIn 0.5s ease-in-out; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .header-shadow { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        
        .dropdown .dropdown-menu { display: none; }
        .dropdown:hover > .dropdown-menu { display: block; }
        .dropdown-submenu { position: relative; }
        .dropdown-submenu .dropdown-menu-level-2 { display: none; position: absolute; left: 100%; top: -7px; }
        .dropdown-submenu:hover .dropdown-menu-level-2 { display: block; }

        .nav-link.active { color: #ea580c; font-weight: 700; }
        
        .animate-on-scroll { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .animate-on-scroll.is-visible { opacity: 1; transform: translateY(0); }
        
        .apply-modal { z-index: 1002; }

        .sidebar { transition: transform 0.3s ease-in-out; }
        @media (max-width: 1023px) {
            .sidebar { position: fixed; top: 0; left: -100%; width: 280px; height: 100%; z-index: 1000; }
            .sidebar.open { transform: translateX(0); }
            .sidebar-overlay { position: fixed; inset: 0; background-color: rgba(0,0,0,0.5); z-index: 999; display: none; }
            .sidebar-overlay.open { display: block; }
        }
        .sidebar-link.active { background-color: #f97316; color: white; }

        .faq-question { cursor: pointer; }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }

        /* AI Maaru Chatbot Styles */
        #chat-container { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
        #chat-window { display: none; width: 350px; height: 500px; background: white; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); flex-direction: column; overflow: hidden; }
        #chat-header { background: #f97316; color: white; padding: 1rem; display: flex; align-items: center; justify-content: space-between; }
        #chat-header-info { display: flex; align-items: center; }
        #chat-header-info img { width: 40px; height: 40px; border-radius: 50%; border: 2px solid white; }
        #chat-header-info div { margin-left: 10px; }
        #chat-header-info h3 { font-weight: bold; font-size: 1rem; }
        #chat-header-info p { font-size: 0.75rem; opacity: 0.9; }
        #chat-close-btn { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        #chat-messages { flex-grow: 1; padding: 1rem; overflow-y: auto; display: flex; flex-direction: column; gap: 0.75rem; background-color: #f1f5f9; }
        .chat-bubble { max-width: 85%; padding: 0.75rem 1rem; border-radius: 1rem; word-wrap: break-word; }
        .user-bubble { background-color: #1e293b; color: white; align-self: flex-end; border-bottom-right-radius: 0.25rem; }
        .ai-bubble { background-color: #ffffff; color: #1e293b; align-self: flex-start; border-bottom-left-radius: 0.25rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        #chat-input-container { border-top: 1px solid #e2e8f0; padding: 0.75rem; display: flex; gap: 0.5rem; }
        #chat-input { flex-grow: 1; border: 1px solid #cbd5e1; padding: 0.75rem; border-radius: 8px; font-size: 0.9rem; }
        #chat-send-btn { background-color: #f97316; color: white; border: none; padding: 0 1.25rem; border-radius: 8px; cursor: pointer; font-weight: 600; }
        #chat-toggle-button { background-color: #f97316; color: white; width: 60px; height: 60px; border-radius: 50%; border: none; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center; }
        #chat-toggle-button img { width: 52px; height: 52px; border-radius: 50%; }
        .typing-indicator { display: flex; align-items: center; padding: 0.75rem 1rem; }
        .typing-indicator span { height: 8px; width: 8px; background-color: #9ca3af; border-radius: 50%; display: inline-block; margin: 0 2px; animation: bounce 1.4s infinite ease-in-out both; }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
        .chat-options { display: flex; flex-wrap: wrap; gap: 8px; padding-left: 1rem; margin-top: 8px; }
        .chat-option-btn { background-color: #fff; border: 1px solid #f97316; color: #f97316; padding: 6px 12px; border-radius: 16px; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; }
        .chat-option-btn:hover { background-color: #f97316; color: #fff; }
        .whatsapp-connect-btn { display: inline-flex; align-items: center; gap: 8px; background-color: #25D366; color: white !important; padding: 10px 16px; border-radius: 8px; text-decoration: none; font-weight: 600; margin-top: 8px; transition: background-color 0.2s; border: none; cursor: pointer; }
        .whatsapp-connect-btn:hover { background-color: #128C7E; }
        @keyframes floatAnimation { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        #chat-toggle-button.animated { animation: floatAnimation 2.5s ease-in-out infinite; }
        .proactive-bubble { position: absolute; bottom: 80px; right: 0; background-color: white; color: #1e293b; padding: 12px 16px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); width: max-content; max-width: 250px; opacity: 0; transform: translateY(10px); transition: opacity 0.3s ease-out, transform 0.3s ease-out; pointer-events: none; z-index: -1; }
        .proactive-bubble.show { opacity: 1; transform: translateY(0); pointer-events: auto; z-index: 1001; }
        .proactive-bubble::after { content: ''; position: absolute; bottom: -8px; right: 24px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid white; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- HEADER with Multi-Level Dropdown -->
    <header id="header" class="bg-white sticky top-0 z-50 transition-shadow duration-300">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#home" class="page-link flex items-center space-x-3">
                <img src="https://res.cloudinary.com/diqo7qmnw/image/upload/v1754217266/logo1_lt1w3w.png" alt="Shree Karni Kripa Associates" class="h-14 w-auto">
                <span class="font-bold text-xl text-gray-800 hidden sm:block">SKF Associates</span>
            </a>
            <ul class="hidden lg:flex items-center space-x-6 text-gray-700 font-medium">
                <li><a href="#home" class="nav-link page-link hover:text-orange-600">Home</a></li>
                <li class="dropdown">
                    <a href="#home-loan" class="nav-link page-link hover:text-orange-600 flex items-center">Loans <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"></path></svg></a>
                    <ul class="dropdown-menu absolute bg-white shadow-lg rounded-md mt-2 py-2 w-56">
                        <li class="dropdown-submenu">
                            <a href="#home-loan" class="page-link flex justify-between items-center px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Home Loan <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg></a>
                            <ul class="dropdown-menu-level-2 bg-white shadow-lg rounded-md py-2 w-56">
                                <li><a href="#home-loan-purchase" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">New Home Purchase</a></li>
                                <li><a href="#home-loan-construction" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Home Construction</a></li>
                                <li><a href="#home-loan-renovation" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Home Renovation</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#business-loan" class="page-link flex justify-between items-center px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Business Loan <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg></a>
                            <ul class="dropdown-menu-level-2 bg-white shadow-lg rounded-md py-2 w-56">
                                <li><a href="#business-loan-working-capital" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Working Capital</a></li>
                                <li><a href="#business-loan-term" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Term Loan</a></li>
                                <li><a href="#business-loan-msme" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">MSME Loan</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#personal-loan" class="page-link flex justify-between items-center px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Personal Loan <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg></a>
                            <ul class="dropdown-menu-level-2 bg-white shadow-lg rounded-md py-2 w-56">
                                <li><a href="#personal-loan-wedding" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Wedding Loan</a></li>
                                <li><a href="#personal-loan-travel" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Travel Loan</a></li>
                                <li><a href="#personal-loan-medical" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Medical Emergency</a></li>
                            </ul>
                        </li>
                         <li class="dropdown-submenu">
                            <a href="#car-loan" class="page-link flex justify-between items-center px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Car Loan <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg></a>
                            <ul class="dropdown-menu-level-2 bg-white shadow-lg rounded-md py-2 w-56">
                                <li><a href="#car-loan-new" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">New Car Loan</a></li>
                                <li><a href="#car-loan-used" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Used Car Loan</a></li>
                            </ul>
                        </li>
                        <li><a href="#lap-loan" class="page-link block px-4 py-2 text-sm text-gray-700 hover:bg-orange-50">Loan Against Property</a></li>
                    </ul>
                </li>
                 <li><a href="#about" class="nav-link page-link hover:text-orange-600">About Us</a></li>
                <li><a href="#contact" class="nav-link page-link hover:text-orange-600">Contact Us</a></li>
            </ul>
             <a href="tel:9214104963" class="hidden md:flex items-center space-x-2 bg-orange-500 text-white px-5 py-2.5 rounded-lg font-semibold hover:bg-orange-600 transition-colors">
                <span>Call Now</span>
            </a>
            <button id="mobile-menu-button" class="lg:hidden text-gray-600" aria-label="Open menu">
                 <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden px-6 pb-4"></div>
    </header>

    <main>
        <!-- Home Page -->
        <div id="home-page" class="page">
            <section class="relative bg-cover bg-center text-white" style="background-image: url('https://res.cloudinary.com/dhme90fr1/image/upload/v1756626261/PHOTO-2025-08-31-13-08-02_2_szo0ga.jpg');">
                 <div class="absolute inset-0 bg-slate-800 opacity-60"></div>
                 <div class="container mx-auto px-6 py-24 md:py-36 text-center relative z-10">
                     <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4 animate-on-scroll">Your Trusted Loan & Insurance Advisors</h1>
                     <p class="text-lg md:text-xl text-gray-200 max-w-3xl mx-auto mb-8 animate-on-scroll">"Sapne aap dekho, poore hum karenge." Get the Best Financial Solutions in Rajasthan.</p>
                     <div class="flex flex-col sm:flex-row justify-center items-center gap-4 animate-on-scroll">
                         <a href="#business-loan" class="page-link bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition-colors w-full sm:w-auto">Explore All Loans</a>
                     </div>
                 </div>
            </section>

            <!-- All Loan Page Section -->
            <section class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-12 animate-on-scroll">Our Financial Services</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <a href="#home-loan" class="page-link group block rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 animate-on-scroll">
                            <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1757241971/WhatsApp_Image_2025-09-07_at_3.20.38_PM_lqp1dy.jpg" alt="Home Loan" class="w-full h-56 object-cover">
                            <div class="p-6 bg-gray-50"><h3 class="text-xl font-bold text-gray-800">Home Loan</h3></div>
                        </a>
                        <a href="#business-loan" class="page-link group block rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 animate-on-scroll" style="transition-delay: 100ms;">
                            <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1757239663/PHOTO-2025-09-07-15-20-36_b8guao.jpg" alt="Business Loan" class="w-full h-56 object-cover">
                            <div class="p-6 bg-gray-50"><h3 class="text-xl font-bold text-gray-800">Business Loan</h3></div>
                        </a>
                        <a href="#personal-loan" class="page-link group block rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 animate-on-scroll" style="transition-delay: 200ms;">
                            <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1757239663/PHOTO-2025-09-07-15-20-34_q09kn6.jpg" alt="Personal Loan" class="w-full h-56 object-cover">
                            <div class="p-6 bg-gray-50"><h3 class="text-xl font-bold text-gray-800">Personal Loan</h3></div>
                        </a>
                        <a href="#car-loan" class="page-link group block rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 animate-on-scroll" style="transition-delay: 300ms;">
                            <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1757237853/WhatsApp_Image_2025-09-07_at_3.06.10_PM_d8n3iz.jpg" alt="Car Loan" class="w-full h-56 object-cover">
                            <div class="p-6 bg-gray-50"><h3 class="text-xl font-bold text-gray-800">Car Loan</h3></div>
                        </a>
                        <a href="#lap-loan" class="page-link group block rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300 animate-on-scroll" style="transition-delay: 400ms;">
                             <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1757240471/WhatsApp_Image_2025-09-07_at_3.20.41_PM_yunya8.jpg" alt="Loan Against Property" class="w-full h-56 object-cover">
                            <div class="p-6 bg-gray-50"><h3 class="text-xl font-bold text-gray-800">Loan Against Property</h3></div>
                        </a>
                    </div>
                </div>
            </section>

             <section class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-12 animate-on-scroll">Why Trust SKF Associates?</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="p-6 animate-on-scroll"><div class="flex justify-center items-center mb-4"><svg class="h-12 w-12 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z" /></svg></div><h3 class="text-xl font-semibold mb-2">Tied-up with All Major Banks</h3><p class="text-gray-600">We are associated with all major public and private banks like HDFC, ICICI, SBI to provide you the <span class="font-semibold">Best Loan Offers</span>.</p></div>
                        <div class="p-6 animate-on-scroll" style="transition-delay: 200ms;"><div class="flex justify-center items-center mb-4"><svg class="h-12 w-12 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><h3 class="text-xl font-semibold mb-2">Quick & Transparent Process</h3><p class="text-gray-600">Our process is transparent. We ensure quick loan approvals with minimum documentation.</p></div>
                        <div class="p-6 animate-on-scroll" style="transition-delay: 400ms;"><div class="flex justify-center items-center mb-4"><svg class="h-12 w-12 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" /></svg></div><h3 class="text-xl font-semibold mb-2">Expert & Honest Advice</h3><p class="text-gray-600">We don't just provide loans; we understand your situation and give the right advice that is always in your best interest.</p></div>
                    </div>
                </div>
            </section>
            
            <section class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-12 animate-on-scroll">Brands Who Trust Us</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-x-8 gap-y-12 items-center animate-on-scroll">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756621450/imgi_85_hdfc-2_dzzdra.png" alt="HDFC Bank" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756621416/imgi_76_YES-BANK_zgemo9.png" alt="YES Bank" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756621188/imgi_41_SBI_psonew.png" alt="SBI Bank" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756621186/imgi_28_IDFC-FIRST_wljvii.png" alt="IDFC First Bank" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756621186/imgi_44_BHFL_Logo-min3723_m9hprx.png" alt="Bajaj Housing Finance" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                        <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756622692/imgi_118_AU-Logo-unit-2_prhzvg.png" alt="AU Small Finance Bank" class="mx-auto h-16 grayscale hover:grayscale-0 transform hover:scale-110 transition-all duration-300 object-contain">
                    </div>
                </div>
            </section>
        </div>

        <!-- Generic Loan Landing Page -->
        <div id="loan-page-template" class="page">
            <div class="bg-white py-4 border-b">
                <div class="container mx-auto px-6 flex items-center justify-between">
                    <nav id="breadcrumbs" class="text-sm text-gray-600"></nav>
                    <button id="sidebar-toggle" class="lg:hidden bg-gray-200 p-2 rounded-md">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
            <div class="container mx-auto px-6 py-12">
                <div class="flex flex-col lg:flex-row gap-8">
                    <aside id="loan-sidebar" class="sidebar bg-white p-6 rounded-lg shadow-md lg:w-1/4 h-fit sticky top-24"></aside>
                    <main id="loan-main-content" class="w-full lg:w-3/4"></main>
                </div>
            </div>
        </div>
        
        <div id="about-page" class="page"></div>
        <div id="contact-page" class="page"></div>
    </main>

    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- AI Maaru Chatbot -->
    <div id="chat-container">
        <div id="proactive-bubble" class="proactive-bubble">Loan ke baare mein kuch poochna hai?</div>
        <div id="chat-window">
            <div id="chat-header">
                <div id="chat-header-info">
                    <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756922191/0ac343a99b4616c8613031e182fd2f48_pqplyp.png" alt="Maaru">
                    <div>
                        <h3>मारू-मित्र ✨</h3>
                        <p>Aapka AI Sahayak</p>
                    </div>
                </div>
                <button id="chat-close-btn">&times;</button>
            </div>
            <div id="chat-messages"></div>
            <div id="chat-input-container">
                <input type="text" id="chat-input" placeholder="Yahan apna sawaal likhein...">
                <button id="chat-send-btn">Send</button>
            </div>
        </div>
        <button id="chat-toggle-button">
            <img src="https://res.cloudinary.com/dhme90fr1/image/upload/v1756922191/0ac343a99b4616c8613031e182fd2f48_pqplyp.png" alt="Chat Icon">
        </button>
    </div>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>&copy; 2025 Shree Karni Kripa Associates. All Rights Reserved.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const pages = document.querySelectorAll('.page');
    const pageLinks = document.querySelectorAll('.page-link');
    const loanTemplatePage = document.getElementById('loan-page-template');
    const breadcrumbsContainer = document.getElementById('breadcrumbs');
    const sidebarContainer = document.getElementById('loan-sidebar');
    const mainContentContainer = document.getElementById('loan-main-content');
    const mobileMenuContainer = document.getElementById('mobile-menu');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const sidebarToggleButton = document.getElementById('sidebar-toggle');
    const sidebarOverlay = document.getElementById('sidebar-overlay');

    const loanData = {
        'home-loan': {
            name: 'Home Loan',
            overview: 'Apne ghar ka sapna saakar karein. We offer a wide range of home loan products designed to meet your unique needs, whether you are buying, constructing, or renovating your home. With competitive interest rates and long tenure, we make home ownership affordable and easy.',
            image: 'https://res.cloudinary.com/dhme90fr1/image/upload/v1757241971/WhatsApp_Image_2025-09-07_at_3.20.38_PM_lqp1dy.jpg',
            subtypes: {
                'purchase': { 
                    name: 'New Home Purchase', roi: '8.50%', tenure: '30 Years', 
                    eligibility: 'Applicant must be an Indian resident, aged between 21 to 65 years. Salaried individuals or self-employed professionals with a stable income source and a good credit score (700+) are eligible.',
                    features: ['Attractive interest rates', 'Flexible repayment tenure up to 30 years', 'Loan amounts up to 90% of property value', 'Quick and transparent processing'],
                    documents: ['PAN Card & Aadhaar Card', 'Latest 3 months salary slips', 'Form 16 or ITR for last 2 years', 'Last 6 months bank statements', 'Allotment letter or Sale agreement of the property'],
                    faq: [
                        { q: 'Can I get 100% financing for my home?', a: 'Most banks finance up to 80-90% of the property value. The rest needs to be contributed by the buyer as a down payment.' },
                        { q: 'Can a co-applicant be added to the home loan?', a: 'Yes, you can add a co-applicant, like your spouse or immediate family member, which can also help in increasing your loan eligibility.' }
                    ]
                },
                'construction': { 
                    name: 'Home Construction', roi: '8.75%', tenure: '30 Years', 
                    eligibility: 'You must own a plot of land with clear titles. A detailed construction estimate, approved by a certified architect, and necessary permissions from local authorities are required.',
                    features: ['Finance for construction on a freehold or leasehold plot', 'Loan disbursed in tranches based on construction stage', 'Flexible tenure and repayment options', 'Expert legal and technical counselling'],
                    documents: ['Proof of land ownership (Title Deed)', 'Approved building plans from local authorities', 'Construction cost estimate from an architect', 'Standard KYC and income documents'],
                    faq: [ { q: 'How is the loan disbursed for construction?', a: 'The loan is typically disbursed in 4-5 installments based on the progress of construction, which is verified by the bank.' } ]
                },
                'renovation': { 
                    name: 'Home Renovation', roi: '9.00%', tenure: '15 Years', 
                    eligibility: 'Must be the owner of the property being renovated. A detailed estimate of the renovation work from a contractor or architect is needed.',
                    features: ['Covers costs of tiling, flooring, painting, plumbing, etc.', 'Quick approval process', 'No collateral required for smaller amounts', 'Improves your property value'],
                    documents: ['Proof of property ownership', 'Detailed renovation estimate', 'KYC and income proofs'],
                    faq: [ { q: 'Is there a limit on the renovation loan amount?', a: 'Yes, the loan amount depends on your income eligibility and the renovation estimate, subject to the bank\'s policy.' } ]
                },
            }
        },
        'business-loan': {
            name: 'Business Loan',
            overview: 'Apne business ko nayi unchaiyon tak pahunchayein. Our business loans are designed to provide the financial support you need for expansion, purchasing machinery, or managing working capital. We offer both secured and unsecured options to fit your business needs.',
            image: 'https://res.cloudinary.com/dhme90fr1/image/upload/v1757239663/PHOTO-2025-09-07-15-20-36_b8guao.jpg',
            subtypes: {
                'working-capital': { 
                    name: 'Working Capital Loan', roi: '12.50%', tenure: '5 Years', 
                    eligibility: 'For businesses operational for at least 3 years with stable sales and profit. Required documents include GST returns and audited financials.',
                    features: ['Maintains liquidity for daily operations', 'Flexible usage of funds', 'Overdraft facility available', 'Quick processing and disbursal'],
                    documents: ['Business registration documents', 'GST returns for the last year', 'Audited financials for last 3 years', 'Bank statements for the last 12 months'],
                    faq: [ { q: 'What is the difference between a cash credit and an overdraft facility?', a: 'Both are working capital loans. A cash credit is a short-term loan against inventory and receivables, while an overdraft allows you to withdraw more than your account balance up to a sanctioned limit.' } ]
                 },
                'term': { 
                    name: 'Term Loan', roi: '11.75%', tenure: '7 Years', 
                    eligibility: 'For established businesses looking for funds for capital expenditure like machinery purchase or expansion. A strong business plan and profitability track record are essential.',
                    features: ['Ideal for long-term capital needs', 'Fixed repayment schedule (EMI)', 'Attractive interest rates', 'Can be secured against assets'],
                    documents: ['Detailed project report for the proposed expenditure', 'Quotations for machinery or equipment', 'Company KYC and financials', 'Promoter\'s KYC and financials'],
                    faq: [ { q: 'Can a term loan be prepaid?', a: 'Yes, most banks allow prepayment of term loans, though some may charge a prepayment penalty. It is advisable to check the terms before applying.' } ]
                },
                'msme': { 
                    name: 'MSME Loan', roi: '10.50%', tenure: '10 Years', 
                    eligibility: 'The business must be registered as a Micro, Small, or Medium Enterprise (MSME) under the Udyam portal. Eligibility often aligns with various government schemes.',
                    features: ['Lower interest rates under government schemes', 'Collateral-free loans available (e.g., CGTMSE)', 'Support for small businesses', 'Simplified application process'],
                    documents: ['Udyam Registration Certificate', 'Business KYC documents', 'Personal KYC of promoters', 'Bank statements and ITR'],
                    faq: [ { q: 'Is collateral always required for an MSME loan?', a: 'Not necessarily. Under the CGTMSE scheme, you can get collateral-free loans up to ₹5 crore from eligible banks.' } ]
                },
            }
        },
        'personal-loan': {
             name: 'Personal Loan',
             overview: 'Har zaroorat ke liye, turant financial solution. Personal loans are the perfect solution for your immediate financial needs, be it a wedding, vacation, or medical emergency. With minimal documentation and quick disbursal, get the funds you need without any hassle.',
             image: 'https://res.cloudinary.com/dhme90fr1/image/upload/v1757239663/PHOTO-2025-09-07-15-20-34_q09kn6.jpg',
            subtypes: {
                'wedding': { name: 'Wedding Loan', roi: '10.99%', tenure: '5 Years', eligibility: 'Available for both salaried and self-employed individuals with a strong credit history and a minimum monthly income of ₹25,000.',
                    features: ['Covers all wedding-related expenses', 'Quick approval and disbursal', 'No collateral required', 'Flexible repayment tenure'],
                    documents: ['PAN & Aadhaar Card', 'Last 3 months salary slips', 'Last 6 months bank statement', 'Employment ID card'],
                    faq: [ { q: 'How much loan can I get for a wedding?', a: 'The loan amount depends on your income, credit score, and repayment capacity. It can range from ₹50,000 to ₹40 Lakhs.' } ]
                 },
                'travel': { name: 'Travel Loan', roi: '11.49%', tenure: '3 Years', eligibility: 'Indian residents with a stable job and a good credit score can apply. Some lenders might ask for travel bookings.',
                    features: ['Fund your dream vacation', 'Easy EMIs make travel affordable', 'No need to dip into your savings', 'Instant online approval'],
                    documents: ['KYC Documents', 'Income proof', 'Bank statements', 'Optionally, travel tickets or hotel bookings'],
                    faq: [ { q: 'Is a travel loan better than using a credit card?', a: 'Travel loans often come with lower interest rates than credit cards, making them a more cost-effective option for planned vacations.' } ]
                },
                'medical': { name: 'Medical Emergency Loan', roi: '10.25%', tenure: '5 Years', eligibility: 'Available to salaried and self-employed individuals. The process is expedited for emergencies, requiring basic KYC and income documents.',
                    features: ['Immediate funds for medical emergencies', 'Hassle-free and minimal documentation', 'Covers hospitalization, surgery, and other medical bills', 'Disbursal within a few hours'],
                    documents: ['Identity and address proof', 'Income proof', 'Hospital admission papers or estimate (if available)'],
                    faq: [ { q: 'Can I get a loan if I don\'t have health insurance?', a: 'Absolutely. A medical loan is designed to help you cover expenses irrespective of whether you have health insurance or not.' } ]
                 },
            }
        },
        'car-loan': {
            name: 'Car Loan',
            overview: 'Apni pasand ki car ghar laayein. Our car loans make it easy to buy your dream car with attractive interest rates, flexible tenures, and high loan-to-value ratios for both new and pre-owned cars.',
            image: 'https://res.cloudinary.com/dhme90fr1/image/upload/v1757237853/WhatsApp_Image_2025-09-07_at_3.06.10_PM_d8n3iz.jpg',
            subtypes: {
                'new': { name: 'New Car Loan', roi: '9.00%', tenure: '7 Years', eligibility: 'Minimum age of 21 years and a stable income source are required. Loan approval depends on the car model and your credit profile.',
                    features: ['Funding up to 100% of the on-road price', 'Flexible repayment tenure up to 7 years', 'Quick processing and minimal paperwork', 'Special schemes and offers available'],
                    documents: ['Pro-forma invoice from the car dealer', 'KYC documents', 'Income proof (Salary slip/ITR)', 'Bank statements'],
                     faq: [ { q: 'What does "on-road price" include?', a: 'The on-road price includes the ex-showroom price, RTO registration charges, road tax, and insurance.' } ]
                },
                'used': { name: 'Used Car Loan', roi: '11.00%', tenure: '5 Years', eligibility: 'The car should not be more than 5-7 years old. A valuation report of the car from a certified professional is mandatory.',
                    features: ['Get up to 90% of the car\'s valuation as a loan', 'Affordable EMIs', 'Helps in buying a better car within your budget', 'Thorough check on car documents by the bank'],
                    documents: ['RC copy of the vehicle', 'Vehicle valuation report', 'Seller-buyer agreement', 'Standard KYC and income documents'],
                    faq: [ { q: 'Is the interest rate for used car loans higher?', a: 'Yes, interest rates for used car loans are generally slightly higher than new car loans due to the higher perceived risk.' } ]
                },
            }
        },
         'lap-loan': {
            name: 'Loan Against Property',
            overview: 'Unlock the value of your property. A Loan Against Property (LAP) is a secured loan that you can avail by mortgaging your residential or commercial property. This is a great way to get a large loan amount at a lower interest rate for various purposes like business expansion, education, or weddings.',
            image: 'https://res.cloudinary.com/dhme90fr1/image/upload/v1757240471/WhatsApp_Image_2025-09-07_at_3.20.41_PM_yunya8.jpg',
            subtypes: {},
            roi: '9.50%', tenure: '15 Years',
            eligibility: 'Owner of the property (residential or commercial). The property must have a clear title and be free from any legal disputes. Your income and repayment capacity will also be assessed.',
            features: ['High loan amount based on property value', 'Lower interest rates compared to unsecured loans', 'Longer repayment tenure', 'Can be used for any personal or business purpose'],
            documents: ['Original property documents (Title Deed)', 'NOC from the society/builder', 'Latest property tax receipts', 'Standard KYC and income proofs'],
            faq: [
                { q: 'Can I continue to use my property during the loan tenure?', a: 'Yes, you retain the ownership and can continue using your property as usual. Only the original documents are kept with the bank as security.' },
                { q: 'What percentage of my property value can I get as a loan?', a: 'You can typically get a loan amount of up to 60-70% of the market value of your property.' }
            ]
        },
    };

    const animatedElements = document.querySelectorAll('.animate-on-scroll');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('is-visible'); } });
    }, { threshold: 0.1 });
    animatedElements.forEach(el => observer.observe(el));

    function showPage(pageId) {
        pages.forEach(p => p.classList.remove('active'));
        const isLoanPage = pageId.includes('loan');
        
        if (pageId !== 'home' && isLoanPage) {
             loanTemplatePage.classList.add('active');
             renderLoanPage(pageId);
        } else {
             const targetPage = document.getElementById(pageId + '-page') || document.getElementById('home-page');
             targetPage.classList.add('active');
        }
        
        const newActivePage = document.querySelector('.page.active');
        if(newActivePage){
            newActivePage.querySelectorAll('.animate-on-scroll').forEach(el => {
                el.classList.remove('is-visible');
                observer.observe(el);
            });
        }
        window.scrollTo(0, 0);
    }
    
    function renderLoanPage(pageId) {
        const parts = pageId.split('-');
        const mainCategoryKey = parts[0] + '-' + parts[1];
        const subTypeKey = parts.length > 2 ? parts.slice(2).join('-') : null;
        
        const mainCategory = loanData[mainCategoryKey] || loanData[parts[0]];
        if (!mainCategory) { console.error('Category not found for', pageId); return; }
        
        const subtype = subTypeKey ? mainCategory.subtypes[subTypeKey] : null;
        const contentData = subtype || mainCategory;

        let breadcrumbHtml = `<a href="#home" class="page-link hover:text-orange-600">Home</a> <span class="mx-2">/</span> <a href="#${mainCategoryKey}" class="page-link hover:text-orange-600">${mainCategory.name}</a>`;
        breadcrumbHtml += ` <span class="mx-2">/</span> <span class="font-semibold text-gray-800">${subtype ? subtype.name : 'Overview'}</span>`;
        breadcrumbsContainer.innerHTML = breadcrumbHtml;
        addLinkListeners(breadcrumbsContainer);

        let sidebarHtml = `<h3 class="text-xl font-bold mb-4">${mainCategory.name}</h3><ul>`;
        const baseKey = mainCategoryKey;
        if(Object.keys(mainCategory.subtypes).length > 0){
             sidebarHtml += `<li><a href="#${baseKey}" class="sidebar-link page-link block p-2 rounded-md hover:bg-orange-500 hover:text-white ${!subtype ? 'active' : ''}">Overview</a></li>`;
             for (const key in mainCategory.subtypes) {
                sidebarHtml += `<li><a href="#${baseKey}-${key}" class="sidebar-link page-link block p-2 rounded-md hover:bg-orange-500 hover:text-white ${subTypeKey === key ? 'active' : ''}">${mainCategory.subtypes[key].name}</a></li>`;
            }
        } else {
            sidebarHtml += `<li><a href="#${baseKey}" class="sidebar-link page-link block p-2 rounded-md hover:bg-orange-500 hover:text-white active">${mainCategory.name}</a></li>`;
        }
        sidebarHtml += `</ul>`;
        sidebarContainer.innerHTML = sidebarHtml;
        addLinkListeners(sidebarContainer);
        
        let mainContentHtml = `
            <div class="bg-white p-8 rounded-lg shadow-md space-y-8">
                <div>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">${contentData.name}</h1>
                    <p class="text-lg text-gray-600">${subtype ? contentData.eligibility : contentData.overview}</p>
                </div>
                <img src="${mainCategory.image}" alt="${mainCategory.name}" class="w-full h-64 object-cover rounded-lg">
                
                <div class="grid md:grid-cols-3 gap-4 text-center">
                    <div class="bg-orange-50 p-4 rounded-lg"><p class="text-sm text-gray-600">Starting ROI</p><p class="text-xl font-bold text-orange-700">${contentData.roi}*</p></div>
                    <div class="bg-blue-50 p-4 rounded-lg"><p class="text-sm text-gray-600">Max Tenure</p><p class="text-xl font-bold text-blue-700">${contentData.tenure}</p></div>
                    <div class="bg-green-50 p-4 rounded-lg"><p class="text-sm text-gray-600">Loan Amount</p><p class="text-xl font-bold text-green-700">As per Profile</p></div>
                </div>

                <div class="grid md:grid-cols-2 gap-8 pt-6">
                    <div>
                        <h3 class="text-2xl font-bold mb-4">Features & Benefits</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">${(contentData.features || []).map(f => `<li>${f}</li>`).join('')}</ul>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold mb-4">Documents Required</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">${(contentData.documents || []).map(d => `<li>${d}</li>`).join('')}</ul>
                    </div>
                </div>

                 <div>
                    <h3 class="text-2xl font-bold mb-4">Frequently Asked Questions (FAQ)</h3>
                    <div class="space-y-4">${(contentData.faq || []).map(f => `
                        <div class="border rounded-lg">
                            <div class="faq-question flex justify-between items-center p-4">
                                <h4 class="font-semibold">${f.q}</h4>
                                <svg class="w-5 h-5 transition-transform transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="faq-answer px-4 pb-4 text-gray-600"><p>${f.a}</p></div>
                        </div>`).join('')}
                    </div>
                </div>

                <div>
                    <h2 class="text-2xl font-bold mt-8 mb-4">EMI Calculator</h2>
                    <div class="bg-gray-50 p-6 rounded-lg border">
                        <form class="emi-calculator-form grid grid-cols-1 md:grid-cols-2 gap-4 items-end">
                            <div><label class="block font-medium">Loan Amount (₹)</label><input type="number" class="loan-amount w-full mt-1 p-2 border rounded" value="1000000" required></div>
                            <div><label class="block font-medium">Interest Rate (%)</label><input type="number" step="0.01" class="loan-rate w-full mt-1 p-2 border rounded" value="${parseFloat(contentData.roi) || 10}" required></div>
                            <div><label class="block font-medium">Tenure (Years)</label><input type="number" class="loan-tenure w-full mt-1 p-2 border rounded" value="${parseInt(contentData.tenure) || 10}" required></div>
                            <button type="submit" class="bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-black w-full">Calculate</button>
                        </form>
                        <div class="mt-4 text-center"><p class="text-lg">Your Monthly EMI is:</p><p class="emi-result text-3xl font-bold text-orange-600 mt-1">₹0</p></div>
                    </div>
                </div>
                <div class="text-center pt-6"><button class="bg-green-500 text-white font-bold py-3 px-12 rounded-lg hover:bg-green-600 transition-colors text-lg">Apply Now</button></div>
            </div>`;
        mainContentContainer.innerHTML = mainContentHtml;
        mainContentContainer.querySelector('.emi-calculator-form').addEventListener('submit', handleEmiCalculation);
        mainContentContainer.querySelectorAll('.faq-question').forEach(q => q.addEventListener('click', () => {
            const answer = q.nextElementSibling;
            const icon = q.querySelector('svg');
            if(answer.style.maxHeight) {
                answer.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                answer.style.maxHeight = answer.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        }));
    }

    function handleEmiCalculation(e) {
        e.preventDefault();
        const form = e.target;
        const amount = parseFloat(form.querySelector('.loan-amount').value);
        const rate = parseFloat(form.querySelector('.loan-rate').value);
        const tenure = parseFloat(form.querySelector('.loan-tenure').value);
        const resultContainer = form.nextElementSibling.querySelector('.emi-result');
        if(amount > 0 && rate > 0 && tenure > 0) {
            const monthlyRate = rate / (12 * 100);
            const n = tenure * 12;
            const emi = (amount * monthlyRate * Math.pow(1 + monthlyRate, n)) / (Math.pow(1 + monthlyRate, n) - 1);
            resultContainer.textContent = `₹${Math.round(emi).toLocaleString('en-IN')}`;
        } else {
            resultContainer.textContent = '₹0';
        }
    }

    function handleLinkClick(e) {
        const href = this.getAttribute('href');
        if (href && href.startsWith('#')) {
            e.preventDefault();
            window.location.hash = href;
        }
    }
    
    function addLinkListeners(container){
        container.querySelectorAll('.page-link').forEach(link => link.addEventListener('click', handleLinkClick));
    }
    
    addLinkListeners(document);
    window.addEventListener('hashchange', () => showPage(window.location.hash.substring(1) || 'home'));
    
    mobileMenuButton.addEventListener('click', () => mobileMenuContainer.classList.toggle('hidden'));
    sidebarToggleButton.addEventListener('click', () => {
        sidebarContainer.classList.add('open');
        sidebarOverlay.classList.add('open');
    });
    sidebarOverlay.addEventListener('click', () => {
        sidebarContainer.classList.remove('open');
        sidebarOverlay.classList.remove('open');
    });

    mobileMenuContainer.innerHTML = document.querySelector('header .hidden.lg\\:flex').innerHTML;
    addLinkListeners(mobileMenuContainer);

    showPage(window.location.hash.substring(1) || 'home');

    // --- AI Maaru Chatbot Logic ---
    const chatContainer = document.getElementById('chat-container');
    const chatWindow = document.getElementById('chat-window');
    const toggleButton = document.getElementById('chat-toggle-button');
    const closeButton = document.getElementById('chat-close-btn');
    const messagesContainer = document.getElementById('chat-messages');
    const input = document.getElementById('chat-input');
    const sendButton = document.getElementById('chat-send-btn');
    const proactiveBubble = document.getElementById('proactive-bubble');

    setTimeout(() => {
        if (chatWindow.style.display === 'none' || !chatWindow.style.display) {
            proactiveBubble.classList.add('show');
            toggleButton.classList.add('animated');
        }
    }, 5000);

    toggleButton.addEventListener('click', () => {
        chatWindow.style.display = 'flex';
        proactiveBubble.classList.remove('show');
        toggleButton.classList.remove('animated');
        if(messagesContainer.children.length === 0){
             setTimeout(sendWelcomeMessage, 300);
        }
    });

    closeButton.addEventListener('click', () => chatWindow.style.display = 'none');
    sendButton.addEventListener('click', sendMessage);
    input.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
    
    function sendMessage() {
        const userMessage = input.value.trim();
        if (userMessage === '') return;
        addMessage(userMessage, 'user');
        input.value = '';
        proactiveBubble.classList.remove('show');
        getAiResponse(userMessage);
    }

    function addMessage(text, sender, options = []) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-bubble ${sender}-bubble`;
        messageDiv.innerHTML = text;
        messagesContainer.appendChild(messageDiv);
        
        if(options.length > 0){
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'chat-options';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'chat-option-btn';
                btn.textContent = opt.text;
                btn.onclick = () => handleOptionClick(opt.payload);
                optionsDiv.appendChild(btn);
            });
            messagesContainer.appendChild(optionsDiv);
        }
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function handleOptionClick(payload){
        addMessage(payload, 'user');
        getAiResponse(payload);
    }
    
    function showTypingIndicator(){
        const typingDiv = document.createElement('div');
        typingDiv.className = 'typing-indicator';
        typingDiv.id = 'typing';
        typingDiv.innerHTML = '<span></span><span></span><span></span>';
        messagesContainer.appendChild(typingDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function removeTypingIndicator(){
        const typingDiv = document.getElementById('typing');
        if(typingDiv) typingDiv.remove();
    }

    function sendWelcomeMessage(){
        showTypingIndicator();
        setTimeout(() => {
            removeTypingIndicator();
            addMessage('Namaste! Main Maaru, aapka AI sahayak hoon. Main aapki loan lene mein kaise madad kar sakta hoon?', 'ai', [
                { text: 'Home Loan', payload: 'Home Loan ke baare mein batao' },
                { text: 'Business Loan', payload: 'Business Loan ke baare mein batao' },
                { text: 'Personal Loan', payload: 'Personal Loan ke baare mein batao' },
                { text: 'Car Loan', payload: 'Car Loan ke baare mein batao' }
            ]);
        }, 1500);
    }
    
    function getAiResponse(userMessage) {
        showTypingIndicator();
        const msg = userMessage.toLowerCase();
        let response = { text: "Maaf kijiye, main aapka sawaal samajh nahi paaya. Kya aap inmein se kisi loan ke baare mein janna chahte hain?", options: [ { text: 'Home Loan', payload: 'Home Loan' }, { text: 'Business Loan', payload: 'Business Loan' }] };

        if (msg.includes('home loan')) {
            response = { text: 'Aap Home Loan ke kis type mein interested hain?', options: [{text: 'New Home Purchase', payload: 'New Home Purchase'}, {text: 'Home Construction', payload: 'Home Construction'}, {text: 'Home Renovation', payload: 'Home Renovation'}] };
        } else if (msg.includes('business loan')) {
            response = { text: 'Aapko Business Loan ke kaunse type ki jaankari chahiye?', options: [{text: 'Working Capital', payload: 'Working Capital Loan'}, {text: 'Term Loan', payload: 'Term Loan'}] };
        } else if (msg.includes('personal loan')) {
            response = { text: 'Personal loan alag-alag zarooraton ke liye milta hai. Aapki kya zaroorat hai?', options: [{text: 'Shaadi ke liye', payload: 'Wedding Loan'}, {text: 'Ghumne ke liye', payload: 'Travel Loan'}, {text: 'Medical Emergency', payload: 'Medical Loan'}] };
        } else if (msg.includes('car loan')) {
            response = { text: 'Aapko nayi gaadi ke liye loan chahiye ya purani (used car)?', options: [{text: 'New Car', payload: 'New Car Loan'}, {text: 'Used Car', payload: 'Used Car Loan'}] };
        } else if (msg.includes('rate') || msg.includes('byaj')) {
            response = { text: 'Har loan ka interest rate alag hota hai. Aap kis loan ke interest rate ke baare mein poochna chahte hain?', options: [{ text: 'Home Loan Rate', payload: 'Home Loan' }, { text: 'Personal Loan Rate', payload: 'Personal Loan' }] };
        } else if (msg.includes('namaste') || msg.includes('hello')) {
            response = { text: 'Namaste! Main aapki kaise sahayata kar sakta hoon?', options: [] };
        } else if (msg.includes('purchase') || msg.includes('construction') || msg.includes('renovation') || msg.includes('capital') || msg.includes('term') || msg.includes('wedding') || msg.includes('travel') || msg.includes('medical') || msg.includes('new car') || msg.includes('used car')) {
            response = { text: 'Iske baare mein adhik jaankari ke liye, aap hamare expert se baat kar sakte hain. Connect karne ke liye neeche button par click karein.', options: [{ text: `Connect on WhatsApp`, payload: `connect_whatsapp_${msg.replace(/ /g,"_")}`}] };
        } else if (msg.startsWith('connect_whatsapp')){
            const loanType = msg.split('_')[2];
            const phone = '919214104963'; // Default number
            const message = `Hello, I would like to know more about the ${loanType.replace(/_/g," ")} loan.`;
            window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
            response = { text: 'Aapko WhatsApp par redirect kiya jaa raha hai...', options: [] };
        }

        setTimeout(() => {
            removeTypingIndicator();
            addMessage(response.text, 'ai', response.options);
        }, 1500);
    }
});
</script>
</body>
</html>

